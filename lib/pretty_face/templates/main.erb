<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <style type='text/css'>

        a, a:visited {
            color: #4B7CAB;
        }

        div {
            padding: 5px;
        }

        h2 {
            margin: 0;
        }

        .summary td {
            font-size: .8em;
            text-align: center;
            width: 150px;
        }

        .failed td {
            font-size: .8em;
        }
    </style>
    
    <title>Test Results</title>
  </head>

  <body style="font-family: GeosansLightRegular,Arial,Helvetica,sans-serif; font-size: .8em">
    <div style="float: left;">
      <img src="images/face.jpg" width="200" />
    </div>
    <div style="float: left;">
      <h2 style="color: #282828; margin-top: 12px; margin-bottom: 15px;">Test Results</h2>
      <span>Tests started: <%= start_time %></span>
      <br />
      <span>Duration: <%= total_duration %></span>
    </div>
    
	  <div style="width: 99%; margin-top: 15px; float: left; -moz-border-radius: 15px; border-radius: 15px; background-color: #E0E0E0">
      <h2 style="color: white; margin-left: 5px; margin-top: 5px;">Summary</h2>

      <table cellspacing="0" cellpadding="7" class="summary">
        <tr>
          <th></th>
          <th>Executed</th>
          <th><a href="">Passed</a></th>
          <th><a href="">Failed</a></th>
          <th><a href="">Skipped</a></th>
          <th><a href="">Undefined</a></th>
          <th><a href="">Pending</a></th>
          <th>Average<br/>Duration</th>
        </tr>
        <tr>
          <td style="text-align: left; font-size: 1em; font-weight: bold">Scenarios</td>
          <td><%= scenario_count %></td>
          <td><%= passing_scenarios %></td>
          <td><%= failing_scenarios %></td>
          <td><%= skipped_scenarios %></td>
          <td><%= undefined_scenarios %></td>
          <td><%= pending_scenarios %></td>
          <td><%= scenario_average_duration %></td>
        </tr>
        <tr>
          <td style="text-align: left; font-size: 1em; font-weight: bold">Steps</td>
          <td><%= step_count %></td>
          <td><%= passing_steps %></td>
          <td><%= failing_steps %></td>
          <td><%= skipped_steps %></td>
          <td><%= undefined_steps %></td>
          <td><%= pending_steps %></td>
          <td><%= step_average_duration %></td>
        </tr>
      </table>
    </div>

    <div style="width: 100%; float: left;">
      <br />
      <h2 style="color: #A00000; margin-top: 15px; margin-left: 5px;">Tests With Failures:</h2>
      <br />
      <table cellspacing="0" cellpadding="7" border="0" class="failed">
        <tr>
          <th></th>
          <th style="text-align: left;">Feature</th>
          <th style="text-align: left;">Scenario</th>
          <th style="text-align: left;">File</th>
        </tr>
        <% features.each do |feature| %>
        <tr>
          <td><img src="red_x.jpg" width="30"/></td>
          <td><%= feature.title %> </td>
          <td><%= feature.feature_elements.first.name %></td>
          <td><%= feature.feature_elements.first.file_colon_line %></td>
        </tr>
        <% end %>
      </table>
        
        <!--
  	    <% if not features.nil? 
             features.each do |feature| %>
    	    <%= feature.title %>
    	    <% feature.feature_elements.each do |feature_element| %>
    		    <%= feature_element.file_colon_line %>
    		    <%= feature_element.name %>
    		    <%= feature_element.status %>
    		    <% feature_element.raw_steps.each do |step| %>
    			    <%= step.file_colon_line %>
    			    <%= step.name %>
    		    <% end %>
    	    <% end %>
        <% end %>
  	  <% end %>
     -->

    </div>
    
    <div style="width: 100%; background-color: #4B7CAB; float: left; margin-left: -7px; margin-top: 25px; font-family: Verdana; color: white">Generated by PrettyFace</div>
    
  </body>
</html>
